name: object_metas
pipes: []
objects:
  - ty: Bar
    fields:
      - name: bar1
        data_ty: Integer
      - name: bar2
        data_ty: String
  - ty: ProjectedBar
    metas:
      - derives: ["Clone", "Debug", "Project"]
      - project: 
          input: "Bar"
    fields:
      - name: bar1
        data_ty: Integer
        metas:
          - project:
              from: "bar1"
      - name: bar2
        data_ty: String
        metas:
          - project:
              expr: "b.bar2"
              alias: "b"
  - ty: FilteredBar
    metas:
      - derives: ["Clone", "Debug", "Filter"]
      - filter:
          predicate: "b.bar1 > 3"
          alias: "b"
    fields:
      - name: bar1
        data_ty: Integer
  - ty: TopBar
    metas:
      - derives: ["Clone", "Debug", "AggregateAs"]
      - agg: "top"
    fields:
      - name: bar1
        data_ty: Integer
  - ty: HashedBar
    metas:
      - derives: ["Clone", "Debug", "HashedBy"]
    fields:
      - name: bar1
        data_ty: Integer
        metas:
          - tag: hash