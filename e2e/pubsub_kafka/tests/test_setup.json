[
    {
        "cmd": "docker exec redis redis-cli ping",
        "description": "make sure redis is alive",
        "expected_output_file": "e2e/pubsub_kafka/tests/setup0.txt",
        "retry": 3
    },
    {
        "cmd": "docker exec kafka kafka-topics --list --bootstrap-server localhost:9092",
        "description": "make sure kafka 'records' topic created",
        "expected_output_file": "e2e/pubsub_kafka/tests/setup1.txt",
        "retry": 3
    },
    {
        "cmd": "docker exec kafka kafka-consumer-groups --list --bootstrap-server localhost:9092",
        "description": "make sure consumer group registered",
        "expected_output_file": "e2e/pubsub_kafka/tests/setup2.txt",
        "retry": 3
    },
    {
        "cmd": "sleep 1",
        "description": "wait for consumer registered"
    }
]